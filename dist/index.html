<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <!-- <title>Service Worker</title> -->
    <link rel="manifest" href="/manifest.json" />
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <h1 class="t-red">Service Worker   凭证管理 API</h1>
    <img src="/images/scene.jpg" alt="" width="300" />
    <form id="login-form">
      <input name="name" type="text">
      <input name="password" type="password">
      <input type="submit" value="提交">
  </form>
  <button id="login-btn" data-provider="https://www.baidu.com">百度登录</button>
  <button id="logout-btn">logout</button>
    <script>
      let registration;

      function registerServiceWorker() {
        if (registration) return registration;

        return navigator.serviceWorker
          .register('service-worker.js')
          .then((reg) => {
            console.log('Registration successded. Scop is ', reg.scope);
            return reg;
          })
          .catch((error) => {
            console.log('Registration failed with ', error);
          });
      }
    </script>
    <script defer src="/js/index.js"></script>
    <script defer src="/js/credentials.js"></script>
  </body>
</html>
